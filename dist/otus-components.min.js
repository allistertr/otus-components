!function(){"use strict";angular.module("otus.components",[])}(),function(){"use strict";angular.module("otus.components").component("dynamicDataTable",{template:'<style>\n        .my-border {\n          border: 1px solid blue;\n        }\n      \n        .dynamic-structure {\n          margin: 16px;\n        }\n      \n        .dynamic-table-body-row:focus,\n        .dynamic-table-header-column:focus {\n          outline: none;\n        }\n      \n        .dynamic-table-body-row,\n        .dynamic-table-header-column {\n          cursor: pointer;\n        }\n      \n        .dynamic-table-row-selected {\n          background-color: #F5F5F5;\n        }\n      \n        .dynamic-table md-checkbox {\n          position: relative;\n          top: 7.5px;\n        }\n      \n        .dynamic-table md-icon.dynamic-arrow-icon,\n        .dynamic-table md-icon.dynamic-arrow-icon-inverse {\n          -webkit-transition-duration: 0.5s;\n          -moz-transition-duration: 0.5s;\n          -o-transition-duration: 0.5s;\n          transition-duration: 0.5s;\n      \n          -webkit-transition-property: -webkit-transform;\n          -moz-transition-property: -moz-transform;\n          -o-transition-property: -o-transform;\n          transition-property: transform;\n        }\n      \n        .dynamic-table md-icon.dynamic-arrow-icon {\n          -moz-transform: rotate(0deg);\n          -webkit-transform: rotate(0deg);\n          -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n        }\n      \n        .dynamic-table md-icon.dynamic-arrow-icon-inverse {\n          -moz-transform: rotate(180deg);\n          -webkit-transform: rotate(180deg);\n          -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n        }\n      \n        .dynamic-table-body-column,\n        .dynamic-table-header-column {\n          padding: 4px 10px;\n        }\n      \n        .dynamic-table-body-row,\n        .dynamic-table-header-row {\n          border-bottom: 1px solid #E0DFDF;\n        }\n      \n        .dynamic-table-column-first {\n          padding-left: 16px;\n      \n        }\n      \n        .dynamic-table-column-last {\n          padding-right: 16px;\n        }\n      \n      \n      \n        .dynamic-table-column-left {\n          text-align: left;\n        }\n      \n        .dynamic-table-column-right {\n          text-align: right;\n        }\n\n        .dynamic-table-column-center {\n          text-align: center;\n        }\n      \n        .dynamic-table-expand-filter {\n          margin-top: 20px;\n        }\n      \n      \n        .dynamic-table-animated {\n          -moz-transition: transform 0.5s;\n          -webkit-transition: transform 0.5s;\n          -ms-transition: transform 0.5s;\n          -o-transition: transform 0.5s;\n          transition: transform 0.5s;\n          transition: .2s all;\n        }\n      \n        .dynamic-table-animated.ng-enter-active {\n          /*-moz-transform: scale(0.1);\n          -webkit-transform: scale(0.1);\n          -ms-transform: scale(0.1);\n          -o-transform: scale(0.1);\n          transform: scale(0.1); */\n          opacity: 1;\n        }\n      \n        .dynamic-table-animated.ng-enter {\n          /*-moz-transform: scale(0.1);\n          -webkit-transform: scale(0.1);\n          -ms-transform: scale(0.1);\n          -o-transform: scale(0.1);\n          transform: scale(0.1); */\n          opacity: 0;\n        }\n      \n        .dynamic-table-animated.ng-leave {\n          transition: 0.5s linear all;\n          opacity: 1;\n        }\n      \n        .dynamic-table-animated.ng-leave.ng-leave-active {\n          opacity: 0;\n        }\n      </style><md-whiteframe class="md-whiteframe-1dp dynamic-structure" layout="column" flex><div ng-if="$ctrl.tableTitle"><md-subheader class="md-no-sticky moment-type-title backgroud-color-default left-alignment">{{$ctrl.tableTitle}}</md-subheader></div><div ng-if="!$ctrl.tableTitle && !$ctrl.disableFilter" class="dynamic-table-expand-filter"></div><div ng-if="!$ctrl.disableFilter" layout="row" layout-align="center center" flex><div layout="row" layout-margin flex><md-input-container class="remove-errors-spacer" flex><input type="text" flex placeholder="Filtro de busca" ng-model="$ctrl.filter" ng-change="$ctrl.filterRows()" ng-model-options="{ allowInvalid: true, debounce: 500 }"></md-input-container></div><div ng-if="(!$ctrl.disablePagination && $ctrl.filter.length && $ctrl.viewPerPage)" style="padding-right:15px" class="dynamic-table-animated"><md-checkbox flex style="margin:0;" aria-label="Filtrar todos" class="md-primary" ng-checked="$ctrl.filterAll" ng-click="$ctrl.filterAllChanged()"><span class="md-body-1">Filtrar Todos</span></md-checkbox><md-tooltip md-direction="top">Exibe todos os registros encontrados</md-tooltip></div></div><div ng-if="$ctrl.error.isError"><h1>{{$ctrl.error.msg}}</h1></div><div ng-if="!$ctrl.error.isError" class="dynamic-table" flex><div ng-mouseenter="$ctrl.leaveFocus()" class="dynamic-table-header" layout="row" flex><div class="dynamic-table-header-row" layout="row" layout-align="start center" flex><div style="padding-left:15px" ng-if="!$ctrl.disableCheckbox" layout="column" flex="5" layout-align="center center"><md-checkbox flex aria-label="Selecionar Todos os Registros" class="md-primary" ng-checked="$ctrl.selectedItemCounter === $ctrl.table.rows.length" md-indeterminate="$ctrl.selectedItemCounter !== $ctrl.table.rows.length && $ctrl.selectedItemCounter>0" ng-click="$ctrl.selectDeselectAllRows()"></md-checkbox><md-tooltip md-direction="top">{{$ctrl.selectedItemCounter === $ctrl.table.rows.length ? \'Deseleciona Todos\' : \'Seleciona Todos\'}}</md-tooltip></div><div ng-if="$ctrl.disableCheckbox" style="padding-top:40px"></div><div class="{{\'dynamic-table-header-column \' + $ctrl.getColumnPositionClass($index, $ctrl.table.headers)}}" ng-repeat="header in $ctrl.table.headers track by $index" flex="{{$ctrl.getFlex($index)}}" ng-click="$ctrl.changeOrder($index)">{{header}}<md-icon ng-if="$ctrl.orderQuery === \'column\' + $index + \'.orderValue\'" ng-class="$ctrl.getOrderIcon()" md-font-set="material-icons">arrow_drop_up</md-icon></div></div></div><div class="dynamic-table-body" layout="column" flex id="dynamic-body"><div class="dynamic-table-body-row {{($ctrl.disablePagination || !$ctrl.viewPerPage || $ctrl.filterAll) ? \' dynamic-table-animated \' : \'\'}}" layout="row" layout-align="start center" flex ng-repeat="row in $ctrl.table.rows | orderBy:$ctrl.orderQuery:$ctrl.orderInverse" ng-click="$ctrl.selectDeselectRow(row)" name="bodyRow{{row.index}}" id="bodyRow{{row.index}}" ng-mouseenter="$ctrl.mouseEnter(row)" ng-mouseleave="$ctrl.mouseLeave(row)" ng-style="row.style"><div style="padding-left:15px" ng-if="!$ctrl.disableCheckbox" layout="column" flex="5" layout-align="center center"><md-checkbox ng-checked="row.selected" aria-label="Checkbox registro da linha {{row.index}}" class="md-primary"></md-checkbox></div><div ng-if="$ctrl.disableCheckbox" style="padding-top:40px"></div><div class="{{\'dynamic-table-body-column \' + $ctrl.getColumnPositionClass(column.index,row.columns)}}" ng-repeat="column in row.columns" flex="{{$ctrl.getFlex(column.index)}}"><span ng-if="!column.specialField" class="md-body-1">{{column.value}}</span><md-button ng-if="column.specialField && column.specialField.iconButton" class="md-icon-button {{column.specialField.iconButton.classButton}}" ng-click="$ctrl.iconButtonClick(column.specialField.iconButton, row)"><md-tooltip ng-if="column.specialField.iconButton.tooltip">{{column.specialField.iconButton.tooltip}}</md-tooltip><md-icon md-font-set="material-icons">{{column.specialField.iconButton.icon}}</md-icon></md-button></div></div></div><div ng-if="!$ctrl.disablePagination" ng-mouseenter="$ctrl.leaveFocus()" class="dynamic-pagination" layout="row" layout-align="start center" flex><div><div layout="row" class="md-body-1" layout-margin><md-button class="md-accent" flex ng-click="$ctrl.viewPerPageChanged()" ng-disabled="$ctrl.filterAll"><md-tooltip>{{$ctrl.viewPerPage ? \'Exibir todos os Registros: Desabilita Paginação\' : \'Exibir Registros por Página: Habilita Paginação\'}}</md-tooltip><span class="md-body-1">{{$ctrl.viewPerPage ? \'Exibir Todos\' : \'Exibir por Página\'}}</span></md-button></div></div><div layout="row" layout-align="end center" layout-padding flex ng-if="$ctrl.viewPerPage && !$ctrl.filterAll"><div><span class="md-body-1">Linhas por página:</span></div><div><md-select ng-model="$ctrl.rowPerPageDefault" aria-label="Página" style="margin:0" ng-change="$ctrl.rowPerPageChange()"><md-option ng-repeat="rowPerPage in $ctrl.rowsPerPageArray" value="{{rowPerPage}}"><span class="md-body-1">{{rowPerPage}}</span></md-option></md-select></div><div><span class="md-body-1">{{$ctrl.table.textPage}}</span></div><div><md-button class="md-icon-button" aria-label="Página Anterior" ng-disabled="!$ctrl.getIsPreviousPage()" ng-click="$ctrl.previousPage()"><md-tooltip>Página Anterior</md-tooltip><md-icon md-font-set="material-icons">keyboard_arrow_left</md-icon></md-button></div><div><md-button class="md-icon-button" aria-label="Página Seguinte" ng-disabled="!$ctrl.getIsNextPage()" ng-click="$ctrl.nextPage()"><md-tooltip>Próxima Página</md-tooltip><md-icon md-font-set="material-icons">keyboard_arrow_right</md-icon></md-button></div></div></div></div></md-whiteframe>',bindings:{headers:"<",elementsArray:"=?",elementsProperties:"<",callbackAfterChange:"=?",tableUpdateFunction:"=?",formatData:"<",formatDataIndexArray:"<",formatDataPropertiesArray:"<",tableTitle:"<",alignArray:"<",flexArray:"<",orderIndices:"<",numberFieldsAlignedLeft:"<",selectedColor:"<",hoverColor:"<",disableCheckbox:"<",disableReorder:"<",disableFilter:"<",disablePagination:"<",rowsPerPageArray:"<",rowPerPageDefault:"<",hideDelayTime:"<",dynamicTableSettings:"="},controller:e}),e.$inject=["$filter","$mdToast"];function e(e,t){var n=this;n.selectedItemCounter=0,n.table,n.defaultAlign="left",n.orderQuery,n.orderInverse=!1,n.error,n.$onInit=function(){(function(){if(n.dynamicTableSettings){var e=n.dynamicTableSettings;e=e.getSettings?e.getSettings():e,console.log(e),n.headers=e.headers,n.elementsArray=e.elementsArray,n.elementsProperties=e.elementsProperties,n.callbackAfterChange=e.callbackAfterChange,n.tableUpdateFunction=e.tableUpdateFunction,n.formatData=e.formatData,n.formatDataIndexArray=e.formatDataIndexArray,n.formatDataPropertiesArray=e.formatDataPropertiesArray,n.tableTitle=e.tableTitle,n.flexArray=e.flexArray,n.alignArray=e.alignArray,n.orderIndices=e.orderIndices,n.numberFieldsAlignedLeft=e.numberFieldsAlignedLeft,n.selectedColor=e.selectedColor,n.hoverColor=e.hoverColor,n.disableCheckbox=e.disableCheckbox,n.disableReorder=e.disableReorder,n.disableFilter=e.disableFilter,n.disablePagination=e.disablePagination,n.rowsPerPageArray=e.rowsPerPageArray,n.rowPerPageDefault=e.rowPerPageDefault,n.hideDelayTime=e.hideDelayTime}n.flexArray||(n.flexArray=[]);n.alignArray||(n.alignArray=[]);n.hoverColor||(n.hoverColor="#EEEEEE");n.selectedColor||(n.selectedColor="#F5F5F5");n.rowsPerPageArray||(n.rowsPerPageArray=[10,25,50,100,250,500,1e3]);n.rowPerPageDefault||(n.rowPerPageDefault=n.rowsPerPageArray.length>=2?n.rowsPerPageArray[2]:n.rowsPerPageArray[0]);n.formatData||(n.formatData="dd/MM/yyyy");n.formatDataIndexArray||(n.formatDataIndexArray=[]);n.formatDataPropertiesArray||(n.formatDataPropertiesArray=[]);n.hideDelayTime||(n.hideDelayTime=3e3);n.callbackAfterChange||(n.callbackAfterChange=function(){});(function(){var e=[];n.alignArray&&n.alignArray.length?n.alignArray.forEach(function(t){e.push(function(e){var t=["right","left","center"],r=e,a=!1;"string"!=typeof e&&(r="");for(var o=0;o<t.length;o++){var i=t[o];if(r.toLowerCase().trim()===i){r=i,a=!0;break}}a||(r=n.defaultAlign);return r}(t))}):n.numberFieldsAlignedLeft&&n.elementsProperties.forEach(function(t,r){var a=r<n.numberFieldsAlignedLeft?"left":"right";e.push(a)});n.elementsProperties.forEach(function(t,r){void 0===e[r]&&e.push(n.defaultAlign)}),n.alignArray=e})(),n.error={isError:!1,msg:"Devem ser informadas a mesma quantidade de valores e de cabeçalhos."}})(),m(),n.tableUpdateFunction=r,u()},n.changeOrder=function(e){var t="column"+e;t+".orderValue"===n.orderQuery?n.orderInverse=!n.orderInverse:(n.orderInverse=!1,m(t))},n.creacteTable=u,n.selectDeselectRow=function(e){e.specialFieldClicked||(e.selected?p(e):b(e),i(e));e.specialFieldClicked=!1},n.selectDeselectAllRows=function(){var e=n.selectedItemCounter===n.table.rows.length;n.table.rows.forEach(function(t){e?p(t):b(t),i(t)},this)},n.runCallbackOnChange=function(e,t){var r={type:t,element:e.ref};n.callbackAfterChange(r)},n.getColumnPositionClass=function(e,t){var r="";void 0===t&&(t=[]);r=r+" dynamic-table-column-"+n.alignArray[e]||n.defaultAlign+" ",0===e&&n.disableCheckbox&&(r+=" dynamic-table-column-first ");e+1===t.length&&(r+=" dynamic-table-column-last ");return r},n.getFlex=function(e){var t=n.flexArray[e];""!==t&&NaN===(t=Number(t))&&(t="");return t},n.filterRows=l,n.rowPerPageChange=function(){n.table.currentPage=1,s()},n.pagesChage=s,n.setCurrentPageText=c,n.getIsNextPage=function(){return d(n.table.currentPage+1)},n.getIsPreviousPage=function(){return n.table.currentPage>1},n.mouseEnter=function(e){n.currentRowOnHover&&n.currentRowOnHover.index===e.index||(n.currentRowOnHover&&n.changeRowStyle(n.currentRowOnHover),n.currentRowOnHover=e,n.changeRowStyle(e,!0))},n.mouseLeave=function(e){},n.changeRowStyle=i,n.leaveFocus=function(){n.currentRowOnHover&&(n.changeRowStyle(n.currentRowOnHover),n.currentRowOnHover=void 0)},n.nextPage=function(){n.disableAnimation=!0,n.table.currentPage++,s()},n.previousPage=function(){n.disableAnimation=!0,n.table.currentPage--,s()},n.iconButtonClick=function(e,t){t.specialFieldClicked=!0;var r=function(r){(function(e){var t=!1;if(e&&n.elementsProperties.length)for(var r=0;r<n.elementsProperties.length;r++){var a=n.elementsProperties[r];if("string"==typeof a){var o=a.split(".")[0];if(e[o]){t=!0;break}}}return t})(r)||(r=n.table.fullRows[t.index]),e.renderElement&&r&&!e.removeElement&&function(e,t){var n=y(e,t.index);t.ref=n.ref,t.columns=n.columns}(r,t),e.removeElement&&(a=t,n.elementsArray.splice(a.index,1),v());var a;e.renderGrid&&!e.removeElement&&v(),e.successMsg&&o(e.successMsg)};if(e.buttonFuntion){e.receiveCallback?e.buttonFuntion(t.ref,r):e.returnsSuccess?e.buttonFuntion(t.ref)&&r():r(e.buttonFuntion(t.ref))}else r()},n.disableAnimation=!1,n.filter="",n.filterAll=!1,n.filterAllChanged=function(e){var t=void 0!==e?e:!n.filterAll;n.filterAll=t,l()},n.viewPerPage=!0,n.viewPerPageChanged=function(e){var t=void 0!==e?e:!n.viewPerPage;n.viewPerPage=t,l()},n.currentRowOnHover;function r(e){n.elementsArray=e||n.elementsArray,n.selectedItemCounter=0,n.creacteTable()}function a(){return!n.disablePagination&&n.viewPerPage&&!n.filterAll}function o(e){t.show(t.simple().textContent(e).hideDelay(n.hideDelayTime))}function i(e,t){t?e.style=e.styleHover:e.selected?e.style=e.styleSelect:e.style={}}function l(){if(n.filter.length){n.table.filteredRows=e("filter")(n.table.fullRows,n.filter);var t=n.table.filteredRows.length;o(t?1===t?t+" Registro foi encontrado.":t+" Registros foram encontrados.":"Nenhum registro foi encontrado.")}else n.table.filteredRows=n.table.fullRows,n.filterAll=!1;n.table.currentPageRows=n.table.filteredRows,n.table.currentPage=1,s()}n.getOrderIcon=function(){return n.orderInverse?"dynamic-arrow-icon-inverse":"dynamic-arrow-icon"},n.verifyOrderIcon=function(e){return n.orderQuery==="column"+$index+".value"};function s(){1===n.table.currentPage?n.table.startPage=0:n.table.startPage=(n.table.currentPage-1)*n.rowPerPageDefault;var e=n.table.currentPage*n.rowPerPageDefault-1;e>=length-1?n.table.endPage=e:n.table.endPage=n.table.filteredRows.length-1,c(),a()&&(n.table.currentPageRows=n.table.filteredRows.slice(n.table.startPage,n.table.endPage+1)),n.table.rows=n.table.currentPageRows,n.selectedItemCounter=n.table.rows.filter(function(e){return e.selected}).length}function c(){var e=n.table.endPage+1>n.table.filteredRows.length?n.table.filteredRows.length:n.table.endPage+1;n.table.textPage=n.table.startPage+1+"-"+e+" de "+n.table.filteredRows.length}function d(e){var t=!1;if(e>0){1===e?t=!0:(e-1)*n.rowPerPageDefault<n.table.filteredRows.length&&(t=!0)}return t}function u(){n.table={headers:n.headers,rows:[],fullRows:[],filteredRows:[],currentPageRows:[],currentPage:1,startPage:0,endPage:n.rowPerPageDefault+1,textPage:""},n.elementsArray.forEach(function(e,t){n.table.fullRows.push(y(e,t))},this),n.table.filteredRows=n.table.fullRows,l(),s()}function m(e){e?n.orderQuery=e+".orderValue":(n.orderQuery=[],n.orderIndices&&n.orderIndices.forEach(function(e){n.orderQuery.push("column"+e+".orderValue")}))}function g(e,t){return e[t]}function f(t,r,a,o){var i,l=void 0;r.split(".").forEach(function(e){l=g(void 0===l?t:l,e)},this),i=l,o&&(s=l,c=r,d=a,n.formatDataIndexArray.filter(function(e){return Number(e)===d}).length?s=e("date")(s,n.formatData):n.formatDataPropertiesArray.filter(function(e){return e===c}).length&&(s=e("date")(s,n.formatData)),i=s);var s,c,d;return i}function b(e){e.selected||(e.selected=!0,n.selectedItemCounter++,n.runCallbackOnChange(e,"select"))}function p(e){e.selected&&(e.selected=!1,n.selectedItemCounter--,n.runCallbackOnChange(e,"deselect"))}function y(e,t){var r={type:"dynamicDataTableRow",ref:e,columns:[],index:t,selected:!1,hover:!1,styleSelect:{"background-color":n.selectedColor},styleHover:{"background-color":n.hoverColor},style:{},specialFieldClicked:!1};return n.elementsProperties.forEach(function(t,n){var a=void 0;if("string"==typeof t)var o=f(e,t,n,!0),i=f(e,t,n);else a=function(e){var t=void 0,n=e.iconButton;n&&(t={iconButton:{icon:n.icon,tooltip:n.tooltip||"",classButton:n.classButton||"",successMsg:n.successMsg||"",buttonFuntion:n.buttonFuntion,returnsSuccess:n.returnsSuccess||!1,renderElement:n.renderElement||!1,renderGrid:n.renderGrid||!1,removeElement:n.removeElement||!1,receiveCallback:n.receiveCallback||!1}});return t}(t);var l,s,c,d,u=(l=o,s=i,c=n,d=a,{type:"dynamicDataTableColumn",value:l,orderValue:s,index:c,name:"column"+c,specialField:d});r.columns.push(u),r[u.name]=u},this),r}function v(){var e=n.table.currentPage;if(r(),a())for(var t=e;t>=1;t--)if(d(t)){n.table.currentPage=t,s();break}}}}(),function(){"use strict";angular.module("otus.components").factory("otus.components.DynamicTableSettingsFactory",function(){this.create=function(){return new function(){var e=this,t=[];e.settings={elementsArray:[],elementsProperties:[],headers:[],callbackAfterChange:void 0,tableUpdateFunction:void 0,tableTitle:void 0,orderIndices:[],numberFieldsAlignedLeft:10,flexArray:[],alignArray:[],formatData:void 0,selectUnselectFunction:void 0,formatDataPropertiesArray:[],formatDataIndexArray:[],disableCheckbox:!1,disableFilter:!1,disableReorder:!1,disablePagination:!1,selectedColor:void 0,hoverColor:void 0,markupAttribute:void 0,selectionFunction:void 0,buttonFunctionArray:[]},e.getSettings=function(){var n=t.sort(function(e,t){return e.ordenationPriorityIndex<t.ordenationPriorityIndex?-1:e.ordenationPriorityIndex>t.ordenationPriorityIndex?1:0});return e.settings.orderIndices=[],n.forEach(function(t){e.settings.orderIndices.push(t.headerIndex)}),e.settings},e.toJson=function(){return JSON.stringify(_settings)},e.setElementsArray=function(t){return e.settings.elementsArray=t,e},e.setCallbackAfterChange=function(t){return e.settings.callbackAfterChange=t,e},e.setTableUpdateFunction=function(t){return e.settings.tableUpdateFunction=t,e},e.setTitle=function(t){return e.settings.tableTitle=t,e},e.setNumberFieldsAlignedLeft=function(t){return e.settings.numberFieldsAlignedLeft=t,e},e.setFormatData=function(t){return e.settings.formatData=t,e},e.setSelectUnselectFunction=function(t){return e.settings.selectUnselectFunction=t,e},e.setCheckbox=function(t){return t=!!t,e.settings.disableCheckbox=!t,e},e.setFilter=function(t){return t=!!t,e.settings.disableFilter=!t,e},e.setReorder=function(t){return t=!!t,e.settings.disableReorder=!t,e},e.setPagination=function(t){return t=!!t,e.settings.disablePagination=!t,e},e.setSelectedColor=function(t){return e.settings.selectedColor=t,e},e.setHoverColor=function(t){return e.settings.hoverColor=t,e},e.addHeader=function(n,r,a,o){e.settings.headers.push(n||""),void 0===r&&(r="");e.settings.flexArray.push(r);var i=!1,l=["right","left","center"];"string"!=typeof a&&(a="");for(var s=0;s<l.length;s++){var c=l[s];if(a.toLowerCase().trim()===c){a=c,i=!0;break}}i||(a="");e.settings.alignArray.push(a),void 0!==o&&t.push({headerIndex:e.settings.headers.length-1,ordenationPriorityIndex:o});return e},e.addColumnProperty=function(t,r){e.settings.elementsProperties.push(t||""),r&&r.toUpperCase&&"DATE"===r.toUpperCase()&&e.settings.formatDataIndexArray.push(e.settings.elementsProperties.length-1);return n(),e},e.addColumnIconButton=function(t,r,a,o,i,l,s,c,d,u){return e.settings.elementsProperties.push({iconButton:{icon:t||"",tooltip:r||"",classButton:a||"",successMsg:o||"",buttonFuntion:i||function(){console.log("buttonFunction not implemented.")},returnsSuccess:l||!1,renderElement:s||!1,renderGrid:c||!1,removeElement:d||!1,receiveCallback:u||!1}}),n("5","center"),e};function n(t,n){return e.settings.elementsProperties.length>e.settings.headers.length&&e.addHeader("",t,n),e}}};return this})}(),function(){"use strict";angular.module("otus.components").directive("dropFile",e),e.$inject=["$mdToast","$timeout"];function e(e,t){return{scope:{changeParent:"<",propagateToChildren:"<"},restrict:"A",link:function(e,t,n){function r(e){a(e),console.log(e),e.preventDefault&&e.preventDefault(),e.stopPropogation&&e.stopPropogation();var t=e.target.files||e.dataTransfer.files;console.log("files",t);for(var n,r=0;n=t[r];r++)console.log(n)}e.$$postDigest(function(){if(console.log("scope.propagateToChildren",e.propagateToChildren),e.propagateToChildren)for(var n=t.children(),r=0;r<n.length;r++){var a=n[r];console.log("child",{a:a})}});function a(e){var n=t[0];e.preventDefault(),"dragover"==e.type?n.classList.contains("draghover")||n.classList.add("draghover"):n.classList.remove("draghover")}t.on("dragleave",function(e){a(e)}),t.on("dragover",function(e){a(e)}),t[0].ondrop=r}}}}(),function(){"use strict";angular.module("otus.components").component("fileUpload",{template:'<style>\n  .file-upload {}\n\n  .file-upload-title {\n    margin: 5px;\n  }\n\n  .file-upload-subtitle {\n    opacity: 0.5;\n    font-size: .9em;\n    margin: 5px;\n  }\n\n  .file-upload-box {\n    border: 2px dashed silver;\n    background-color: rgba(75, 75, 75, 0.01);\n    padding: 20px;\n    padding-bottom: 30px;\n\n    width: 400px;\n  }\n\n  .animated-all-transition {\n    transition: all 0.5s ease;\n  }\n\n  .file-upload-box.draghover {\n    border-color: blue;\n    background-color: rgba(0, 0, 250, 0.1);\n    \n  }\n\n\n  .file-upoad-button {\n    position: relative;\n    top: -36px;\n    \n  }\n\n  .animate-if.ng-enter,\n  .animate-if.ng-leave {\n    transition: all ease 0.5s;\n  }\n\n  .animate-if.ng-enter,\n  .animate-if.ng-leave.ng-leave-active {\n    opacity: 0;\n  }\n\n  .animate-if.ng-leave,\n  .animate-if.ng-enter.ng-enter-active {\n    opacity: 1;\n  }\n</style><div flex><script src="node_modules/angular/angular.min.js"><\/script><script src="node_modules/angular-animate/angular-animate.min.js"><\/script><md-button ng-click="$ctrl.fileTitle.length ? $ctrl.fileTitle = \'\' : $ctrl.fileTitle=\'...\'" class="md-raised md-primary">Seleciona/Deseleciona</md-button><div layout="column" layout-align="center center" class="file-uplopad"><div drop-file propagate-to-children="true" class="file-upload-box animated-all-transition" layout="column" layout-align="center center" flex="50"><span ng-if="!$ctrl.fileTitle.length" class="file-upload-title animate-if">{{$ctrl.title}}</span> <span ng-if="!$ctrl.fileTitle.length" class="file-upload-subtitle animate-if">{{$ctrl.subtitle}}</span></div><md-button ng-if="!$ctrl.fileTitle.length" class="md-fab md-primary file-upoad-button animate-if"><md-icon md-font-set="material-icons">file_upload</md-icon><md-tooltip md-direction="right">{{$ctrl.buttonTooltip}}</md-tooltip></md-button></div><div layout="column"><dynamic-data-table flex dynamic-table-settings="$ctrl.dynamicTableSettings"></dynamic-data-table><br><md-button class="md-icon-button"><md-icon md-font-set="material-icons">file_upload</md-icon><md-tooltip md-direction="right">{{$ctrl.buttonTooltip}}</md-tooltip></md-button></div></div>',bindings:{teste:"<",title:"<",subtitle:"<",buttonTooltip:"<"},controller:e}),e.$inject=["$mdDialog","otus.components.DynamicTableSettingsFactory"];function e(e,t){var n,r=this;r.$onInit=function(){n=e.confirm().title("Confirmar Ação:").textContent("A ação será executada, deseja continuar?").ariaLabel("Confirmação de Ação").ok("Ok").cancel("Cancelar"),r.dynamicTableSettings=t.create().addHeader("Arquivo","","left",30).addColumnProperty("file.name").addHeader("Tipo","","center").addColumnProperty("file.type").addHeader("Tamanho","","",5).addColumnProperty("file.length").addHeader("Status","","center",3).addColumnProperty("file.state").addHeader("Data","","",4).addColumnProperty("file.nd","DATE").addColumnIconButton("delete_forever","Deletar Registro","md-primary","Item excluido",r.removeElement,!0,!1,!1,!0,!1).addColumnIconButton("autorenew","","md-primary","",r.updateElement,!1,!1,!0,!1,!1).addColumnIconButton("delete_forever","","md-primary","",r.executCallback,!1,!1,!0,!0,!0).setElementsArray(r.filesArray).setCallbackAfterChange(r.callbackAfterChange).setTableUpdateFunction(r.updateDataTable).setTitle("Lista de Arquivos").setNumberFieldsAlignedLeft(5).setFormatData("'Dia - 'dd/MM/yy").setCheckbox(!1).setFilter(!0).setReorder(!0).setPagination(!0).setSelectedColor().setHoverColor().getSettings(),console.log(r.dynamicTableSettings),r.title||(r.title="Arraste e solte aqui o arquivo.");r.subtitle||(r.subtitle="ou clique");r.buttonTooltip||(r.buttonTooltip="Adicionar Arquivo");for(var a=1;a<22;a++){var o={file:{name:"Resultados de exames - "+a,type:"CSV",length:14*a+"kbs",state:"",nd:r.date}};r.filesArray.push(o)}console.log("file-upload-onInit")},r.fileTitle="",r.date=new Date,r.filesArray=[],r.removeElement=function(e){return e.file.state="Excluido",e},r.updateElement=function(e){return e.file.state="Atualizado",e},r.callbackAfterChange=function(){},r.executCallback=function(t,r){e.show(n).then(function(){r(t)}).catch(function(){})}}}();